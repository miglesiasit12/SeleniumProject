version: 0.2

env:
  variables:
    browserType: "CHROME"
    isRemoteDriverRun: "true"
phases:
  install:
    commands:
      - wget -O- https://apt.corretto.aws/corretto.key | apt-key add - && add-apt-repository 'deb https://apt.corretto.aws stable main'
      - curl -s "https://get.sdkman.io" | bash && . .root/.sdkman/bin/sdkman-init.sh && sdk install gradle 7.0.2
      - apt-get update; sudo apt-get install -y java-15-amazon-corretto-jdk
  build:
    commands:
      - cd Docker
      - docker-compose up -d
      - cd ..
      - gradle test