version: 0.2

env:
  variables:
    browserType: "CHROME"
    isRemoteDriverRun: "true"
phases:
  install:
    commands:
      - rpm --import https://yum.corretto.aws/corretto.key && sudo curl -L -o /etc/yum.repos.d/corretto.repo \
        https://yum.corretto.aws/corretto.repo4 && yum install -y java-15-amazon-corretto-devel
      - curl -s "https://get.sdkman.io" | bash && source "/root/.sdkman/bin/sdkman-init.sh" && sdk install gradle 7.0.2
      - yum -y update && yum -y install openjdk-15-jdk
  build:
    commands:
      - cd Docker
      - docker-compose up -d
      - cd ..
      - gradle test